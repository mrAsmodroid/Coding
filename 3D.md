# mrAsmodroid 3D Style

[![Site](https://softwaredev.space/Logo128.png)](https://softwaredev.space/)

Данное правило применяется для создания/редактирования 3D моделей. Не является истиной для всех и применяется только в разработке проектов относящихся к моей команде. Все то, чего тут нет, уточняется лично у разработчика и в дальнейшем дописывается в данный перечень.

Введение:
   * [Blender](#Blender)
   * [PolygonMesh](#PolygonMesh)
   * [Texture](#Texture)
   * [Group/Name](#Group/Name)
   * [Export](#Export)
   * [Optimization](#Optimization)
   * [Pivot](#Pivot)
   * [Bake](#Bake)
   
   
## Blender 

Для минимизации багов при переносе объекта и более гибкого допуска к дальнейшему редактированию модели другими дизайнерами. Вся разработка ведется в Blender.

![img](https://softwaredev.space/git/blender.png)

## PolygonMesh

Все модели рисуются для работы на мобильных устройствах. Полигональная сетка должна быть упрощена до минимально допустимых значений, чтобы передать внешний вид объекта без дефектов. Приближенная к Low Poly.

### Пример полигональной сетки:

![img](https://softwaredev.space/git/poligon1.webp) ![img](https://softwaredev.space/git/poligon2.webp)

Если рисуются объекты, типа стен, состоящие из Plane. точки (point) соприкосновения стен в углах, должны быть объеденены в координатах и в единый Mesh. Или если делается откос окон. Сами стены/пол/потолок, должны немного выходить за пределы друг друга, создавая перекрестие в обратных (невидимых) участках. Чтобы при генерации света в движке Unity, не было "световых щелей" в местах соприкосновения стен и потолка.

## Texture

### Размер текстур:
Все текстуры должны быть в атласах с соотношениями сторон <b>1х1</b> и в пиксельном размере <b>2048х2048</b> или <b>4096х4096</b>
### Формат текстур albedo:
Если текстура НЕ имеет альфа канала, то сохраняется в формате <b>.jpg</b> и качество формата минимально допустимое до начала проявления артефактов.
Если текстура С альфа каналом, то сохраняется в формате <b>.png</b>
### Формат текстур Metallic/Normal/AO:
Если текстура НЕ имеет альфа канала, то сохраняется в формате <b>.jpg</b> и качество формата минимально допустимое до начала проявления артефактов. Например, почти в 100% случаев, данного виды текстуры, позволительно сжимать до качества jpg(1-4). Для оптимизации веса текстуры с минимальными потерями качества.
### Формат текстур в .tga или других форматах не описанных выше:
НЕДОПУСТИМ!

## Group/Name

Все объекты должны быть разделены и сгрупированны в иерархии по слоям и зависимостям. Также у всех объектов должен быть правильный нейминг, обозначающий ТИП модели.

### Пример правильной иерархии и группировки объектов с их наименованиями:

![img](https://softwaredev.space/git/Hierarchy.webp)

## Export

При окончании утверждении внешнего вида объекта с менеджером/админом контролирующим этот объект, экспорт производится по следующим требованиям.
1) Файл исходника модели в формате .blend
2) Файл модели в формате .fbx (только полигональная сетка с материалами)
3) Каталог с экспортированными текстурами

Все это в <b>.zip</b> (другой формат архива типа  недопустим)
И отправляется менеджеру/админу

## Optimization

На сцене должны присутствовать только необходимые объекты, которые попадают в зону действия камеры. Данные зоны обговариваются заранее. Все то, что не в ходит в запланированную визуальную зону, не должно быть отрисовано. Там должны отсутствовать Face или любые Mesh.

Размер объекта долен быть равен размеру реального объекта переведенного в единицу редактора. Где одна единица длины в редакторе = одному метру расстояния в реальном мире. К примеру, если мы делаем стол рамером 550х450х750 (Ш(ширина) х Г(глубина) х В(высота)) миллиметров, то в редакторе он должен быть x = 0.55 y = 0.45 z = 0.75.

Общая полигональность сцены в движке Unity с совокупностью всех 3D моделей на ней в отрисовку кадра, не должна превышать 150.000 полигонов. Следовательно, все модели должны быть максимально упрощены и оптимизированы на минимальное количество необходимых полигонов них.

## Pivot

Точка pivot должна находиться всегда в правильной позиции относительно объекта и его использования.
Если это объекты типа стол/стул/шкаф/здание/объекты интерьера и т.п. то точка должна находиться в районе пола, в центре вращения объекта. И "лицом" направлены всегда в сторону оси <b>X</b>
### Пример pivot объектов общего плана

![img](https://softwaredev.space/git/Pivot1.webp) ![img](https://softwaredev.space/git/Pivot2.webp)] 

Если, это объекты сложной или неправильной формы, то pivot должен находиться по тем же правилам, но в центре зоны соприкосовения объекта с поверхностью.
Также, если это: светильник на стене, картина, лампа на потолке и т.п. объекты, то слоедоательно pivot должен быть к точке сопррикосновения "лапки"/корпуса/провода к поверхности, на которой он "висит"
### Пример pivot объектов на вертикальных поверхностях или "подвисе"

![img](https://softwaredev.space/git/Pivot4.webp) ![img](https://softwaredev.space/git/Pivot5.webp)

Если же это объект типа дверь, или похожий по механике объект, то точка pivot должка распологаться в зоне "петель" или в точке угла открытия или поворота объекта
### Пример pivot объектов с точкой предполагаемого вращения

![img](https://softwaredev.space/git/Pivot3.webp)

Pivot основного объекта или группы объектов (первого во всей иерархии), должен находиться в нулевых координатах мирового пространства.

Если это объект типа "портал для AR", то точка основного pivot должна быть на нижней централной точке двери или портала. 

![img](https://softwaredev.space/git/Pivot6.webp)

## Bake

Каждому объекту должна создаваться UV карта для запекания, разбитая на правильные световые зоны.

Вся геометрия UV Albedo объекта должна иметь уникальные координаты. Запрещено размещать полигоны UV в одних координатах. 

Нельзя использовать одни и те же материалы на разных типах объектов.
